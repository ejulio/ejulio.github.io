<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SQL on Júlio César Batista</title><link>https://juliocesarbatista.com/tags/sql/</link><description>Recent content in SQL on Júlio César Batista</description><generator>Hugo -- gohugo.io</generator><language>pt-br</language><lastBuildDate>Mon, 04 Sep 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://juliocesarbatista.com/tags/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>Grafos e consultas SQL recursivas</title><link>https://juliocesarbatista.com/posts/queries_sql_recursivas/</link><pubDate>Mon, 04 Sep 2023 00:00:00 +0000</pubDate><guid>https://juliocesarbatista.com/posts/queries_sql_recursivas/</guid><description>Recentemente me deparei com o problema de trabalhar com grafos com SQL. Dado o modelo de dados abaixo, como resolver (no fim do artigo existem alguns exemplos de grafos que podem ser usados para teste):
Detectar se existem ciclos no grafo Encontrar todos os caminhos no grafo create table graph ( id varchar(100) primary key, name varchar(500) not null ); create table node ( id varchar(100), graph_id varchar(100) references graph(id), name varchar(500) not null, primary key (graph_id, id) ); create table edge ( id varchar(100), graph_id varchar(100) references graph(id), from_id varchar(100), to_id varchar(100), cost float not null, foreign key (graph_id, from_id) references node(graph_id, id), foreign key (graph_id, to_id) references node(graph_id, id) ); Não vou entrar nos méritos no modelo, existem várias formas de modelar o grafo.</description></item></channel></rss>
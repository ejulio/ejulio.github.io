<!doctype html><html lang=pt-br><head><title>Limpando dados (data cleaning) · Júlio César Batista
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Júlio César Batista"><meta name=description content="A limpeza dos dados é um passo importante na construção de uma análise e modelo.
Entretanto, não existe um fluxo exato para seguir, a ideia é explorar o dataset e identificar registros inválidos e aplicar regras para corrigí-los.
A seguir tem uma lista do que procurar/corrigir em datasets.


  1. Conversão de tipos
  
    
    Link para o cabeçalho
  

Simples, se o valor deve ser um numérico e está como string, então usa-se o tipo mais apropriado. Normalmente float para medidas contínuas e int para números discretos.
O mesmo vale para bool, datas e outros.
Também vale ressaltar a precisão de valores float.
Se existem valores que precisam de cinco casas decimais e valores com duas casas decimais.
Arredondar todos os valores para duas casas decimais é uma boa opção."><meta name=keywords content="blog,software,developer"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="Limpando dados (data cleaning)"><meta name=twitter:description content="A limpeza dos dados é um passo importante na construção de uma análise e modelo. Entretanto, não existe um fluxo exato para seguir, a ideia é explorar o dataset e identificar registros inválidos e aplicar regras para corrigí-los. A seguir tem uma lista do que procurar/corrigir em datasets.
1. Conversão de tipos Link para o cabeçalho Simples, se o valor deve ser um numérico e está como string, então usa-se o tipo mais apropriado. Normalmente float para medidas contínuas e int para números discretos. O mesmo vale para bool, datas e outros. Também vale ressaltar a precisão de valores float. Se existem valores que precisam de cinco casas decimais e valores com duas casas decimais. Arredondar todos os valores para duas casas decimais é uma boa opção."><meta property="og:url" content="https://juliocesarbatista.com/posts/data-cleaning/"><meta property="og:site_name" content="Júlio César Batista"><meta property="og:title" content="Limpando dados (data cleaning)"><meta property="og:description" content="A limpeza dos dados é um passo importante na construção de uma análise e modelo. Entretanto, não existe um fluxo exato para seguir, a ideia é explorar o dataset e identificar registros inválidos e aplicar regras para corrigí-los. A seguir tem uma lista do que procurar/corrigir em datasets.
1. Conversão de tipos Link para o cabeçalho Simples, se o valor deve ser um numérico e está como string, então usa-se o tipo mais apropriado. Normalmente float para medidas contínuas e int para números discretos. O mesmo vale para bool, datas e outros. Também vale ressaltar a precisão de valores float. Se existem valores que precisam de cinco casas decimais e valores com duas casas decimais. Arredondar todos os valores para duas casas decimais é uma boa opção."><meta property="og:locale" content="pt_br"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2019-04-20T00:00:00+00:00"><meta property="article:tag" content="Análise De Dados"><meta property="article:tag" content="Limpeza De Dados"><meta property="article:tag" content="Data Cleaning"><link rel=canonical href=https://juliocesarbatista.com/posts/data-cleaning/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.07092c1350ffd254998dc43a44ae96e617d14af4df4602626878df89189c5e1a.css integrity="sha256-BwksE1D/0lSZjcQ6RK6W5hfRSvTfRgJiaHjfiRicXho=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://juliocesarbatista.com/>Júlio César Batista
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/publica%c3%a7%c3%a3o/>Publicações</a></li><li class=navigation-item><a class=navigation-link href=/tags/projeto/>Projetos</a></li><li class=navigation-item><a class=navigation-link href=/tags/notas/>Notas</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://juliocesarbatista.com/posts/data-cleaning/>Limpando dados (data cleaning)</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2019-04-20T00:00:00Z>2019-04-20
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
4 minutos de leitura</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/an%C3%A1lise-de-dados/>Análise De Dados</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/limpeza-de-dados/>Limpeza De Dados</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/data-cleaning/>Data Cleaning</a></span></div></div></header><div class=post-content><p>A limpeza dos dados é um passo importante na construção de uma análise e modelo.
Entretanto, não existe um fluxo exato para seguir, a ideia é explorar o dataset e identificar registros inválidos e aplicar regras para corrigí-los.
A seguir tem uma lista do que procurar/corrigir em <em>datasets</em>.</p><h1 id=1-conversão-de-tipos>1. Conversão de tipos
<a class=heading-link href=#1-convers%c3%a3o-de-tipos><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>Simples, se o valor deve ser um numérico e está como <em>string</em>, então usa-se o tipo mais apropriado. Normalmente <code>float</code> para medidas contínuas e <code>int</code> para números discretos.
O mesmo vale para <code>bool</code>, datas e outros.
Também vale ressaltar a precisão de valores <code>float</code>.
Se existem valores que precisam de cinco casas decimais e valores com duas casas decimais.
Arredondar todos os valores para duas casas decimais é uma boa opção.</p><h1 id=2-conversão-de-unidades-de-medida>2. Conversão de unidades de medida
<a class=heading-link href=#2-convers%c3%a3o-de-unidades-de-medida><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>É importante que todas as quantidades estejam na mesma unidade de medida.
Se existem preços em <em>USD</em> e <em>BRL</em>, é necessário manter apenas um e fazer a conversão.
O mesmo se aplica para alturas, distâncias, pesos, tempo/<em>time zones</em> e outros tipos de medidas.</p><p><em>Dica</em>: Se existem diferentes unidades de medida, gerar um histograma da variável talvez ajude.
Pode ser que a distribuição seja bi-modal, indicando que existem duas unidades de medida.</p><h1 id=3-padronização-de-_strings_>3. Padronização de <em>strings</em>
<a class=heading-link href=#3-padroniza%c3%a7%c3%a3o-de-_strings_><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>Remover espaços no começo e fim da string (<code>my_str.strip()</code> no <em>python</em>).
Dependendo do tipo de texto, pode ser que remover caractéres especiais e pontuações também seja importante.
Além disso, padronizar em todas minúsculas, todas maiúsculas, ou algo assim também seja importante.</p><p>Ao trabalhar com nomes, é importante manter um padrão para seguir com relação a nomes compostos.
Por exemplo, <em>Júlio César Batista</em> -> <em>Júlio C. Batista</em> -> <em>Júlio C Batista</em> -> <em>Júlio Batista</em> são válidos.
Além do nome composto é importante levar em consideração a ordem dos nomes, <em>Júlio Batista</em> ou <em>Batista, Júlio</em> (normalmente utilizado em citações/referências).
Sem contar que podem existir erros de escrita como <em>Júlio Baptista</em> ou <em>Júlio Cézar Batista</em> (apesar desses nomes existirem), no exemplo seriam erros.</p><h1 id=4-valores-inexistentes>4. Valores inexistentes
<a class=heading-link href=#4-valores-inexistentes><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>Um caso muito comum é de registros com valores inexistentes (<code>NaN</code>) ou <code>0</code> como valor padrão.
Normalmente, atribuir zero para essas variáveis é errado e pode levar a problemas no futuro.
Mesmo assim, existem algumas heurísticas que podem ajudar:</p><ul><li>Se a quantidade de registros é pequena, uma pesquisa e <strong>preenchimento manual</strong> pode ser viável.</li><li><strong>Utilizar a média</strong>. A vantagem é que a média da variável no <em>dataset</em> não muda.</li><li><strong>Valor aleatório</strong>. Permite avaliar o impacto de ter inserido esses valores.</li><li><strong>Interpolação com regressão linear</strong>.</li><li><strong>Interpolação com o min/max</strong>. Para séries temporais com valores ausentes em um intervalo.</li><li>Se a quantidade de registros é grande, utilizar um serviço como <em>Mechanical Turk</em> para <strong>distribuir o trabalho para várias pessoas</strong> pode ser uma alternativa.</li></ul><h1 id=como-encontrar-registros-incorretos>Como encontrar registros incorretos
<a class=heading-link href=#como-encontrar-registros-incorretos><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>Algumas estatísticas básicas e gráficos podem ser úteis.
Observar a média, mediana e desvio padrão é util para ter uma noção de valores esperados.
Entretanto, é muito importante gerar gráficos que demonstrem a distribuição das variáveis para
complementar as estatísticas.
Os valores máximo e mínimo também são uteis porque ajudam a encontrar valores inexistentes (<code>NaN</code>),
ou valores inesperados.
Por exemplo, no
<a href=https://www.kaggle.com/c/new-york-city-taxi-fare-prediction class=external-link target=_blank rel=noopener><em>NYC taxi fare prediction</em></a>,
existem registros com valor da tarifa negativo.
Usando o valor mínimo é possível descobrir esse tipo de &ldquo;erro&rdquo; e corrigí-lo.
Essas estatíticas são acessíveis através de <code>df.describe()</code> utilizando a biblioteca <code>pandas</code> no <em>python</em>.</p><h1 id=outros-detalhes>Outros detalhes
<a class=heading-link href=#outros-detalhes><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabeçalho"></i>
<span class=sr-only>Link para o cabeçalho</span></a></h1><p>Se a quantidade de registros incorretos é insignificante no <em>dataset</em>, ingnorá-los (removê-los) é uma opção.
Entretanto, é necessário se atentar aos casos específicos, como de nomes incorretos, que normalmente precisam ser corrigidos ao invés de ignorados.
Além disso, apenas ignorar os valores pode não ser uma opção em alguns problemas.
Para casos de conjuntos de dados recorrentes/periódicos, corrigir a fonte dos problemas/<em>outliers</em> é a melhor opção (mesmo que exija um pouco mais de investigação).</p><p>Alguns dos problemas acima ocorrem com frequência ao integrar duas fontes de dados diferentes.
Por exemplo, é possível obter medidas em um determinado país no formato métrico e em outro país com formato imperial.
Então, é necessário atenção ao fazer essas integrações para evitar esses conflitos.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2016 -
2024
Júlio César Batista
·
Promovido por <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-1BE56W9H8M"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1BE56W9H8M")}</script></body></html>